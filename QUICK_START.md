# å¿«é€Ÿå¼€å§‹æŒ‡å—

## å‰ææ¡ä»¶

ç¡®ä¿å·²å®‰è£… Flutter SDKã€‚å¦‚æœæœªå®‰è£…ï¼Œè¯·è®¿é—® [Flutter å®˜ç½‘](https://flutter.dev/docs/get-started/install) ä¸‹è½½å®‰è£…ã€‚

## å®‰è£…æ­¥éª¤

### 1. å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®

```bash
git clone <repository-url>
cd go_router_learning
```

### 2. å®‰è£…ä¾èµ–

```bash
flutter pub get
```

### 3. è¿è¡Œé¡¹ç›®

#### åœ¨ Web æµè§ˆå™¨ä¸­è¿è¡Œï¼ˆæ¨èï¼‰

```bash
flutter run -d chrome
```

#### åœ¨å…¶ä»–å¹³å°è¿è¡Œ

```bash
# macOS
flutter run -d macos

# Windows
flutter run -d windows

# Linux
flutter run -d linux

# Android æ¨¡æ‹Ÿå™¨/è®¾å¤‡
flutter run

# iOS æ¨¡æ‹Ÿå™¨ï¼ˆéœ€è¦ macOSï¼‰
flutter run -d ios
```

## é¡¹ç›®ç»“æ„æ¦‚è§ˆ

```
go_router_learning/
â”œâ”€â”€ docs/                    # ğŸ“š å­¦ä¹ æ–‡æ¡£
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart           # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ router.dart         # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ app_state.dart      # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â””â”€â”€ widgets/            # å…¬å…±ç»„ä»¶
â””â”€â”€ test/                   # æµ‹è¯•æ–‡ä»¶
```

## å­¦ä¹ è·¯å¾„

### ç¬¬ä¸€æ­¥ï¼šé˜…è¯»æ–‡æ¡£ï¼ˆ30åˆ†é’Ÿï¼‰

æŒ‰é¡ºåºé˜…è¯» `docs/` ç›®å½•ä¸‹çš„æ–‡æ¡£ï¼š

1. `01_go_router_åŸºç¡€æ¦‚å¿µ.md` - ç†è§£ go_router æ˜¯ä»€ä¹ˆ
2. `02_go_router_å¯¼èˆªæ–¹æ³•é€ŸæŸ¥.md` - å¿«é€ŸæŸ¥çœ‹æ‰€æœ‰å¯¼èˆªæ–¹æ³•
3. `03_è·¯ç”±é…ç½®è¯¦è§£.md` - å­¦ä¹ å¦‚ä½•é…ç½®è·¯ç”±
4. `04_é‡å®šå‘ä¸å®ˆå«.md` - æŒæ¡æƒé™æ§åˆ¶
5. `05_åµŒå¥—è·¯ç”±ä¸Shell.md` - äº†è§£é«˜çº§è·¯ç”±ç‰¹æ€§
6. `06_å¸¸è§é—®é¢˜ä¸æœ€ä½³å®è·µ.md` - é¿å…å¸¸è§é™·é˜±
7. `07_ä»£ç ç¤ºä¾‹é›†é”¦.md` - å®ç”¨ä»£ç ç‰‡æ®µ

### ç¬¬äºŒæ­¥ï¼šè¿è¡Œå¹¶æ¢ç´¢ï¼ˆ20åˆ†é’Ÿï¼‰

1. å¯åŠ¨åº”ç”¨
2. ç‚¹å‡»é¦–é¡µçš„å„ä¸ªåŠŸèƒ½é¡¹
3. è§‚å¯Ÿæµè§ˆå™¨åœ°å€æ çš„ URL å˜åŒ–
4. å°è¯•ä½¿ç”¨æµè§ˆå™¨çš„å‰è¿›/åé€€æŒ‰é’®
5. åˆ‡æ¢åº•éƒ¨å¯¼èˆªæ çš„ä¸åŒæ ‡ç­¾

### ç¬¬ä¸‰æ­¥ï¼šä»£ç å®è·µï¼ˆ1-2å°æ—¶ï¼‰

1. æ‰“å¼€ `lib/router.dart` æŸ¥çœ‹è·¯ç”±é…ç½®
2. æŸ¥çœ‹å„ä¸ªé¡µé¢çš„å®ç°ä»£ç 
3. å°è¯•ä¿®æ”¹ä»£ç ï¼š
   - æ·»åŠ æ–°çš„è·¯ç”±
   - ä¿®æ”¹è½¬åœºåŠ¨ç”»
   - æ·»åŠ æ–°çš„å®ˆå«è§„åˆ™
4. é‡æ–°è¿è¡Œåº”ç”¨è§‚å¯Ÿæ•ˆæœ

## æ ¸å¿ƒåŠŸèƒ½æ¼”ç¤º

### å¯¼èˆªæ–¹æ³•

åº”ç”¨é¦–é¡µå±•ç¤ºäº†æ‰€æœ‰å¸¸ç”¨çš„å¯¼èˆªæ–¹æ³•ï¼š

- **context.goNamed** - æ›¿æ¢å½“å‰é¡µé¢
- **context.pushNamed** - å‹æ ˆå¯¼èˆª
- **context.replaceNamed** - æ›¿æ¢è·¯ç”±
- **å¸¦å‚æ•°å¯¼èˆª** - æ¼”ç¤ºè·¯å¾„å‚æ•°å’ŒæŸ¥è¯¢å‚æ•°
- **è·¯ç”±å®ˆå«** - éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®

### å‚æ•°ä¼ é€’

åœ¨"ç¤ºä¾‹"æ ‡ç­¾é¡µä¸­ï¼Œç‚¹å‡»ä»»æ„åˆ—è¡¨é¡¹å¯ä»¥çœ‹åˆ°ï¼š

- è·¯å¾„å‚æ•°ä¼ é€’
- æŸ¥è¯¢å‚æ•°ä¼ é€’
- å‚æ•°åœ¨è¯¦æƒ…é¡µçš„æ˜¾ç¤º

### ç™»å½•ä¸æƒé™

1. ç‚¹å‡»é¦–é¡µçš„"è·¯ç”±å®ˆå«"
2. ç³»ç»Ÿä¼šè·³è½¬åˆ°ç™»å½•é¡µ
3. è¾“å…¥ä»»æ„ç”¨æˆ·åç™»å½•
4. è‡ªåŠ¨è·³è½¬å›ç›®æ ‡é¡µé¢

### åº•éƒ¨å¯¼èˆª

åº”ç”¨ä½¿ç”¨ `StatefulShellRoute` å®ç°åº•éƒ¨å¯¼èˆªï¼Œåˆ‡æ¢æ ‡ç­¾æ—¶ä¼šä¿æŒæ¯ä¸ªé¡µé¢çš„çŠ¶æ€ã€‚

## å¸¸ç”¨å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
flutter pub get

# è¿è¡Œåº”ç”¨
flutter run

# è¿è¡Œæµ‹è¯•
flutter test

# ä»£ç æ ¼å¼åŒ–
flutter format lib

# é™æ€åˆ†æ
flutter analyze

# æ¸…ç†æ„å»ºç¼“å­˜
flutter clean
```

## è°ƒè¯•æŠ€å·§

### 1. å¼€å¯è·¯ç”±æ—¥å¿—

å·²åœ¨ `lib/router.dart` ä¸­å¼€å¯ï¼š

```dart
final router = GoRouter(
  debugLogDiagnostics: true, // å·²å¼€å¯
  ...
);
```

æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºçš„è·¯ç”±å˜åŒ–ä¿¡æ¯ã€‚

### 2. ä½¿ç”¨ Flutter DevTools

```bash
flutter run
# ç„¶ååœ¨å‘½ä»¤è¡Œä¸­æŒ‰ 'v' æ‰“å¼€ DevTools
```

### 3. æ–­ç‚¹è°ƒè¯•

åœ¨ VS Code æˆ– Android Studio ä¸­è®¾ç½®æ–­ç‚¹ï¼š

- åœ¨ `lib/router.dart` çš„ `redirect` ä¸­
- åœ¨é¡µé¢çš„ `build` æ–¹æ³•ä¸­
- åœ¨å¯¼èˆªæ–¹æ³•è°ƒç”¨å¤„

## å¸¸è§é—®é¢˜

### Q: åº”ç”¨æ— æ³•å¯åŠ¨ï¼Ÿ

A: ç¡®ä¿å·²è¿è¡Œ `flutter pub get` å®‰è£…ä¾èµ–ã€‚

### Q: å¦‚ä½•æŸ¥çœ‹å½“å‰è·¯ç”±ï¼Ÿ

A: è§‚å¯Ÿæµè§ˆå™¨åœ°å€æ ï¼Œæˆ–åœ¨ä»£ç ä¸­ä½¿ç”¨ï¼š

```dart
final location = GoRouterState.of(context).uri.toString();
debugPrint('å½“å‰è·¯ç”±: $location');
```

### Q: å¦‚ä½•æ·»åŠ æ–°é¡µé¢ï¼Ÿ

A: 
1. åœ¨ `lib/pages/` åˆ›å»ºæ–°é¡µé¢æ–‡ä»¶
2. åœ¨ `lib/router.dart` æ·»åŠ è·¯ç”±é…ç½®
3. é‡æ–°è¿è¡Œåº”ç”¨

### Q: å¦‚ä½•è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»ï¼Ÿ

A: å‚è€ƒ `lib/router.dart` ä¸­çš„ `home-modal` è·¯ç”±ç¤ºä¾‹ï¼Œä½¿ç”¨ `pageBuilder` å’Œ `CustomTransitionPage`ã€‚

## ä¸‹ä¸€æ­¥

å­¦å®Œæœ¬é¡¹ç›®åï¼Œä½ å¯ä»¥ï¼š

1. åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­åº”ç”¨ go_router
2. é˜…è¯» [go_router å®˜æ–¹æ–‡æ¡£](https://pub.dev/packages/go_router)
3. æŸ¥çœ‹æ›´å¤š [Flutter è·¯ç”±ç¤ºä¾‹](https://docs.flutter.dev/cookbook/navigation)

## è·å–å¸®åŠ©

- æŸ¥çœ‹é¡¹ç›®çš„ `docs/` ç›®å½•
- é˜…è¯»ä»£ç æ³¨é‡Š
- å‚è€ƒ [go_router API æ–‡æ¡£](https://pub.dev/documentation/go_router/latest/)

---

ç¥å­¦ä¹ æ„‰å¿«ï¼ğŸ‰
